{
    "manifests": {
        "pxsw/project": {
            "manifest": {
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%/",
                    "root/": ""
                },
                "env": {
                    "#1": "CDN_URL=https://your-project.b-cdn.net/",
                    "ASSET_URL": "/"
                },
                "gitignore": [
                    "**/*.hot-update.js",
                    "**/*.hot-update.json",
                    "custom/*plugins/Pxsw*/src/Resources/app/storefront/dist/storefront/js/",
                    "custom/*plugins/Pxsw*/src/Resources/app/administration/src/scss/index.scss",
                    "custom/*plugins/Pxsw*/src/Resources/app/administration/src/index.js",
                    "custom/*plugins/Pxsw*/src/Resources/app/shared/scss/index.scss",
                    "custom/*plugins/Pxsw*/src/Resources/app/storefront/private/scss/index.scss",
                    "custom/*plugins/Pxsw*/src/Resources/app/storefront/private/index.js",
                    "custom/*plugins/Pxsw*/src/Resources/public",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_px_base.html.twig",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_px_meta.html.twig",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_px_base_modern.html.twig",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_px_meta_modern.html.twig",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_sprite.svg",
                    "custom/*plugins/Pxsw*/src/Resources/views/**/_sprite_uses.svg",
                    "public/sprite"
                ]
            },
            "files": {
                "config/packages/twig.yaml": {
                    "contents": [
                        "twig:",
                        "    globals:",
                        "        asset_url: '%env(ASSET_URL)%'",
                        ""
                    ],
                    "executable": false
                },
                "root/.eslintignore": {
                    "contents": [
                        "node_modules",
                        "dist",
                        "*.twig",
                        "vendor",
                        "custom/apps/*",
                        ""
                    ],
                    "executable": false
                },
                "root/package.json": {
                    "contents": [
                        "{",
                        "    \"name\": \"shopware-shopware\",",
                        "    \"description\": \"Shopware 6 Base setup with plugins\",",
                        "    \"version\": \"6.0\",",
                        "    \"author\": \"pixolith GmbH & Co KG\",",
                        "    \"scripts\": {",
                        "        \"clean\": \"rimraf -g 'custom/*plugins/*/src/Resources/views/storefront/**/_px*.twig' 'vendor/pxsw/*/src/Resources/views/storefront/**/_px*.twig'\",",
                        "        \"dev\": \"npm run sf:dev\",",
                        "        \"sf:dev\": \"npm run clean && cross-env SHOPWARE_MODE=storefront NODE_ENV=development webpack-dev-server --hot\",",
                        "        \"sf:build\": \"cross-env MODE=modern SHOPWARE_MODE=storefront NODE_ENV=production webpack\",",
                        "        \"build\": \"npm run clean && concurrently \\\"npm run sf:build\\\" \\\"npm run admin:build\\\"\",",
                        "        \"admin\": \"npm run admin:dev\",",
                        "        \"admin:dev\": \"cross-env SHOPWARE_MODE=administration NODE_ENV=development webpack-dev-server --hot\",",
                        "        \"admin:build\": \"cross-env MODE=modern SHOPWARE_MODE=administration NODE_ENV=production webpack\",",
                        "        \"cache:clear\": \"ddev exec php bin/console cache:clear\",",
                        "        \"theme:compile\": \"ddev exec php bin/console theme:compile\",",
                        "        \"db:dump\": \"ddev export-db -f deployment/local/sw_shopware_dev.sql --gzip=false\",",
                        "        \"db:restore\": \"ddev import-db -f deployment/local/sw_shopware_dev.sql\",",
                        "        \"fix-style\": \"stylelint --fix 'custom/*plugins/Pxsw*/src/Resources/app/**/*.scss'\",",
                        "        \"fix-js\": \"eslint --fix 'custom/*plugins/Pxsw*/src/Resources/app/**/*.js'\",",
                        "        \"fix-php\": \"vendor/bin/ecs check --fix\",",
                        "        \"prettier\": \"npm run fix-style && npm run fix-js\"",
                        "    },",
                        "    \"browserslist\": {",
                        "        \"storefront\": [",
                        "            \"> 1%\",",
                        "            \"last 2 versions\",",
                        "            \"not ie < 11\"",
                        "        ],",
                        "        \"storefront:modern\": [",
                        "            \"last 1 chrome version\",",
                        "            \"last 1 firefox version\",",
                        "            \"last 1 safari version\"",
                        "        ],",
                        "        \"administration:modern\": [",
                        "            \"last 1 chrome version\",",
                        "            \"last 1 firefox version\",",
                        "            \"last 1 safari version\"",
                        "        ],",
                        "        \"administration\": [",
                        "            \"last 1 chrome version\",",
                        "            \"last 1 firefox version\",",
                        "            \"last 1 safari version\"",
                        "        ]",
                        "    },",
                        "    \"prettier\": \"@pixolith/prettier-config\",",
                        "    \"eslintConfig\": {",
                        "        \"extends\": \"@pixolith/eslint-config-sw6\"",
                        "    },",
                        "    \"stylelint\": {",
                        "        \"extends\": \"@pixolith/stylelint-config-standard\"",
                        "    },",
                        "    \"percy\": {",
                        "        \"version\": 2",
                        "    },",
                        "    \"devDependencies\": {",
                        "        \"@pixolith/eslint-config-sw6\": \"^7.2.0\",",
                        "        \"@pixolith/stylelint-config-standard\": \"^7.2.0\",",
                        "        \"@pixolith/webpack-sw6-config\": \"^7.2.2\"",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "root/webpack.config.js": {
                    "contents": [
                        "let fs = require('fs');",
                        "",
                        "if (process.env.SHOPWARE_MODE === 'storefront') {",
                        "    process.env.PLUGIN_PATH =",
                        "        './custom/plugins/Pxsw*/src/Resources/app/storefront/private';",
                        "    process.env.VENDOR_PATH =",
                        "        './vendor/pxsw/*/src/Resources/app/storefront/private';",
                        "    process.env.SHARED_SCSS_PATH = '../../shared';",
                        "    process.env.JS_TRANSPILE = JSON.stringify(['dom7', 'swiper']);",
                        "    process.env.PUBLIC_PATH = './public';",
                        "}",
                        "",
                        "if (process.env.SHOPWARE_MODE === 'administration') {",
                        "    process.env.VENDOR_PATH = '';",
                        "    process.env.PLUGIN_PATH =",
                        "        './custom/plugins/Pxsw*/src/Resources/app/administration/src';",
                        "    process.env.SHARED_SCSS_PATH = '../../shared';",
                        "    process.env.PUBLIC_PATH = './public/bundles';",
                        "}",
                        "",
                        "let sharedVendorResourcePaths = fs.existsSync('vendor/pxsw')",
                        "    ? ['vendor/pxsw/*/src/Resources/app/_global_resources/**/*.scss']",
                        "    : [];",
                        "",
                        "let sharedPluginResourcePaths = fs.existsSync('custom/plugins')",
                        "    ? ['custom/plugins/Pxsw*/src/Resources/app/_global_resources/**/*.scss']",
                        "    : [];",
                        "",
                        "let uses = fs.existsSync('custom/plugins/PxswProject/src/Resources/app/uses.scss')",
                        "    ? ['custom/plugins/PxswProject/src/Resources/app/uses.scss']",
                        "    : fs.existsSync('vendor/pxsw/project/src/Resources/app/uses.scss')",
                        "        ? ['vendor/pxsw/project/src/Resources/app/uses.scss']",
                        "        : [];",
                        "",
                        "process.env.RESOURCES_PATHS = JSON.stringify([",
                        "    ...uses,",
                        "    ...sharedVendorResourcePaths,",
                        "    ...sharedPluginResourcePaths,",
                        "]);",
                        "",
                        "if (",
                        "    !(",
                        "        process.env.SHOPWARE_MODE === 'storefront' ||",
                        "        process.env.SHOPWARE_MODE === 'administration'",
                        "    )",
                        ") {",
                        "    process.stderr.write(",
                        "        'SHOPWARE_MODE needs to be storefront or administration',",
                        "    );",
                        "    process.exit(1);",
                        "}",
                        "",
                        "module.exports = require('@pixolith/webpack-sw6-config')[",
                        "    process.env.SHOPWARE_MODE",
                        "];",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "b9aac117f6fa3c84333fc79e82ac9c33113b9c67"
        }
    }
}
